language: java
jdk:
- oraclejdk8
sudo: false
install: ./gradlew clean assemble javadoc -Psigning.keyId=$SIGNING_KEY_ID -Psigning.password=$SIGNING_PASSWORD -Psigning.secretKeyRingFile=gradle/secring.gpg
cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/
env:
  global:
  - secure: DcQubvWPY0lPgFsknvf0rm6rQQSZPwY9cPmCaGpwyZCwAfF2hAKaqb21Wk7gB6YoR0foDK6zV2pVHXN2mqcV0/Us+8Y687ZODTZaN/JP/rr7n5rIRnQzE1kM65lZ6v6YTDsUslxZv/rTVSIrKQqeNhVChpJOobsUCOHudpZjfzFpWhoXLmBxalYS4us4hzPcAqmXGEy7AX+g94OQwix42SGoMcIxVcPE9BD7XxdJEcnl8uCHEg2N0LAQjzbnbVVc1W7tEQ0kDoEVktgd46CG0szDJ/kyzPFW0byda5+WU/az7Byl9CJhbRVgdy7v0vChiS/YLJj8edNHKPjC6e/Ya3joezTJd6yW+AGxPTUc3UxWiVdL0nuUS9sjoH8J/9IQGDbGhD58a+wqL98swxfj0x07GUODXd8VMWbFesXBUXNLjAnumH2s2ZjEs0j+8X0vHlhX/NSjQJmfV0G2IqT9+FRsNhJfGarzCCmOQ2lRT+hUEzpMYBgw57S3BvLbpVNJFJPGZEWV++6/Ep66F2O180ApFtugwaE3BGrLuBjVScNSvarpc9WdaKeTD48bwqDwim4/4H8p//02IgkE60OGZzFe92u7xu+CZhP8zwCoWbdqZTyqx6PCU6N+vKfvxloBXdYpxdMpe6MT6KSi7ZFt2MoCNRwlQ456aSz1ucYuHIg=
  - secure: gw8BPV9mwg8a3ga9lQk9GoQIFh2DjUCUAPo3b0iOXf1/OKiIMGTtF/SQ/skmYGXEHEMMX4fdZLdqyekgxPpqsMj3abMSDcasXs87oiFctm/qmdmRpUUcwBybFJyuZIXl6ClJFXTbt45ggShgDVbeSwWmV+Gq73fcsFZAYdvEfmd8WTI96ImwlSnMxkzDiFGKT4NVcDIRnYZvGa9jgzPkiaXeIbbe6qcoLcdd2EnCqhxcgFd7V/23wIQesHVSvVcRygSPma5J7OV4MHQlvxpbSBqNtNA+1ZipB8V7Hh3GkSNVUaspFgd38O0ASqgeOIKrR11sDc6awWYTRMxruZ3gYyIQhQxpv8ZzFu+w5Vk9j2Qqm9JGDja6ZVJIGu4V+jqOcu4ZAr7iud9E6qmb2GiJOebN5XSnz/vDCr8rP3EvEzzesuzrwgL8UuIWwqmeM9XiGikiXwQQIXBUhiZkFXb4wKayCSEFYI7+H0bmhx5GMY7I4WnR+ad06YnMK89DAhwiF0KCCgp30WlDMrUbM9Dkgua6eo3ZWzRheo3ezzH1TxAbZWsXqfb8/RUfmYJp1bmFhkUMR2Ar6/BkIhXk1wOKYVM4WnEhoTDCeCZU02GkQEOiJg2MGOJtIpgBcmN2a16UR2ouZowmo0dOBinwEIDI8RowHtF9z6RRMRFyI9F+B98=
  - secure: XlORi/hh/rRRmv0mcSe9SMOXxfZ8Rstf9sgBPC4TPz6jq6K7fxhDt9117BQvOGR0MYQbad7Kw98Cw6oR23z3u3dEkS70AH5Wznxi7RkAhteaa7Dyf6RjpV3MTFAUBTeIeLT7htCKL1V0y6XSI8yGsAzFKC7TR6tLeCekazTNEy7VjF7kjaqp5CayMu5jGaE7O9kmEHQGVVcvz8ZGx6lWLLVIW541BCliVj1Mgz8atu9ZMr2lPGs38XjASKRPp8gB/BsMvKmosmhJxU+x3EcBHbLSqBz98qveTh9T13KHBfyB2uXQv5FCO0DDeRh8+bW5QmIXoRcaXfaE8Cas17YhluUEZ48k/dFMvwVhWeEftDQqG/UiAdNUwlF3FuSjJhaqFz7HkHVi7sI5aC0JJyJvU7TgKO1kLSXheALnh0rANSP7hb7TMZICzVoGVC1ewGnD1xoJs6RqVGIxZyBRYIbfL9Ndrgih2AsFJ42TEUZUP6G6B9tZ14IzyTlWBWi028ul9DvrUzX7vDtxg2MlkwIK1xSvxyA/4OQjp6App7ao15hosJuFgPew5ngs7LUNb5ALj+s+0s4FsFkmS2F+X6km2uYHzExGEwjfk6XEfJRO7RHCthK+ycl2Quyya5TxX1hlX243i0YV2yzflOzZH+Zw2MNFtncJc/iL+tCpx05xbYk=
  - secure: dlmWGMFuXx/tUaDVLoQbVoQtLcLIXAOFT+opAI9u2BMEHn71fbpC4X228z7fyHxMfeYCYbdEv9Qn8ZkaHZ4mersTruMD07lz6jGmwDOEZ1D1YtFor9UrR0kXaNLdYcMlLHMnXmELh2Cnu+z5bxOMiz52RBlwqPQ9EYEVCTk2ZJc46ZlLatv0ofWJC/8OIoLkp69cUPx5ehdw0lamMD5Ic8n2CsEvRYIkCGyRWrBZPxHK3tkBv9Tdqs3WIbmdTyRIcAxux+AKoWfdW1oSRAURa344xoHzJBLjK8liUeehyS61cAn0R8dym6AwzRSrIve5CrJvW5mzpqP8AM5ALiY+ItGDzbP0cFUEzCMRUn6aPob2Dl28hn4YWn7FU3maxEOVevyp4zy8pPlE9dbw7W7EUEEBNLCRDMpd6zoGfIilb3A1o7kYWA8oa7/SFkR0VRFFE9wBCbcatXpXEVadXkc1UdYckOqMpBey0XUSVpnPgqs0BBgIDOz/gVD8yEtRV6ItUX0kverKUu/wnE6Tgi7wYW+FWilXZbL/7xqnrLLnJiarNsAnKoVeFxs9tRPjrRCdjhoHQOhhhIfodH2SOmSrLOqQi6OZgRgMKoCEy6nlpNVkgRCowuJIrnLtWTx1k/hKbRsB1yKT4WDQCiwxOT4NhZKYDXa3ur+f1ClvPyIrWcI=
  - secure: iFxkbImvNvo3v/svZ1l5hx6geCV3RJpqUU2GxjuHeYrwGxYkjFocmISTK5S23IvEJvlpMCQoU6BP5xmILh28l/AKa07pCSJG1qWBOr6zqPvqKd5P2K8DfWJ45fQ7+VCHHMPGY1/Piq2rCFhAD6XBHcPWQJGv07TrHmtl68manxPBHxLZx9LRMMc2Dun+Cboy1B3c33ey05y6xt+pS606A31S8gS6ScGmQYyFtlNC7DzvYBgBJwOMqQrPoWMwwDIbEAwpG1aDMJ7iFscmwd8ivsKjXOmaCCu5u7O6PL2OdSMtfDa9L7iz/ML/1ZK1qBgceT9krmTCMJx87aJNRDqOdp8vrdWvXkLVsLydrY0FAfCYEakEjDCYhnWKF4mcGAyqvy7UQB8tqxh0UrTHBqRBPeTZpPsFGDM3RodVgBslaI1FvIhYnEYEDdmdpcRzIS0Wh0ns0O8o2jY5pdwJ8+WO+sSKIqI5H9GFPABsXjhk7+Z7zJzQO2D7ZF58psE1Ygv2m7c2h/BMgqxkS9OAUol0+rpNF88Njo9PEU7DB5oxN+33ilcE8mP2TDnY9gl3HR9raiIAcFbEgAT9mPgdd5K4ubZKCsrOSjQAo4WFTviuKcRhcJpkvUii/zDjh3Roab2dE4jiC6ett+UyqIOafnSmXL3arlTrevdIyp2T0YjnwKc=

before_install:
- openssl aes-256-cbc -K $encrypted_d2c75c3dfb4f_key -iv $encrypted_d2c75c3dfb4f_iv
  -in gradle/keychain.enc -out gradle/secring.gpg -d
after_success: 
    - . $TRAVIS_BUILD_DIR/gradle/publish_javadoc.sh
    - . $TRAVIS_BUILD_DIR/gradle/publish_artifacts.sh

